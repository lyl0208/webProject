<div class="content-header">
    <h2 class="content-title">二手手机档案信息管理</h2>
</div>

<div>
    <div class="layui-form toolbar">
        搜索：
        <select id="searchKey">
            <option value="">-请选择-</option>
            <option value="IMEI">IMEI</option>
            <option value="brand_name">品牌</option>
            <option value="model_name">型号</option>
            <option value="color_name">颜色</option>
            <option value="memory_name">内存</option>
        </select>
        <input id="searchValue" class="layui-input search-input" type="text" placeholder="请输入搜索内容"/>
        <button id="searchBtn" class="layui-btn search-btn"><i class="layui-icon">&#xe615;</i>搜索</button>
        <button id="addBtn" class="layui-btn search-btn"><i class="layui-icon">&#xe654;</i>添加</button>
    </div>

    <!--数据表格-->
    <table class="layui-table" id="table" lay-filter="table"></table>

</div>

<!--表单弹窗-->
<script type="text/html" id="addModel">
    <form id="editForm" class="layui-form model-form" action="">
        <input type="hidden" name="phoneId"/>
        <div class="layui-form-item">
            <label class="layui-form-label">手机图片</label>
            <div class="layui-input-block layui-upload">
                <!--上传按钮-->
                <button type="button" class="layui-btn" id="imgUpload"><i class="layui-icon">&#xe67c;</i>上传图片</button>

                <!--隐藏的input，保存图片url-->
                <input type="hidden" id="img_url" name="img" value="" lay-verify="required" required>

                <!--预览区域-->
                <div class="layui-upload-list">
                    <img class="layui-upload-img" width="100px" height="80px" id="demo1"/>
                    <p id="demoText"></p>
                </div>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">IMEI</label>
            <div class="layui-input-block">
                <input name="IMEI" placeholder="请输入IMEI" type="text" class="layui-input" maxlength="20" lay-verify="required|IMEI" required />
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">品牌<a class="layui-btn layui-btn-primary layui-btn-xs" onclick="addBrand()"><i class="layui-icon"></i></a></label>
            <div class="layui-input-block">
                <select name="brandId" id="brand-select" lay-verify="required" lay-filter="brandSelect" lay-search="" class="layui-input"></select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">型号<a class="layui-btn layui-btn-primary layui-btn-xs" onclick="addModel()"><i class="layui-icon"></i></a></label>
            <div class="layui-input-block">
                <select name="modelId" id="model-select" lay-verify="required" lay-filter="modelSelect" lay-search="" class="layui-input"></select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">颜色<a class="layui-btn layui-btn-primary layui-btn-xs" onclick="addColor()"><i class="layui-icon"></i></a></label>
            <div class="layui-input-block">
                <select name="colorId" id="color-select" lay-verify="required" lay-filter="colorSelect" lay-search="" class="layui-input"></select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">内存<a class="layui-btn layui-btn-primary layui-btn-xs" onclick="addMemory()"><i class="layui-icon"></i></a></label>
            <div class="layui-input-block">
                <select name="memoryId" id="memory-select" lay-verify="required" lay-filter="memorySelect" lay-search="" class="layui-input"></select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">新旧程度</label>
            <div class="layui-input-block">
                <input name="degree" placeholder="请输入新旧程度" type="text" class="layui-input" maxlength="20" lay-verify="required" required />
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">是否在保</label>
            <div class="layui-input-block">
                <input name="protection" id="protectionYes" type="radio"  title="是" value="1" checked/>
                <input name="protection" id="protectionNo" type="radio"  title="否" value="0" />
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">损坏部位</label>
            <div class="layui-input-block">
                <input name="damagedPart" placeholder="请输入损坏部位" type="text" class="layui-input" maxlength="20" lay-verify="required" required />
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">回收价</label>
            <div class="layui-input-block">
                <input name="recoveryPrice" placeholder="请输入回收价" type="text" class="layui-input" maxlength="20" lay-verify="required|money" required />
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">参考销售价</label>
            <div class="layui-input-block">
                <input name="referenceSellingPrice" placeholder="请输入销售价" type="text" class="layui-input" maxlength="20" lay-verify="required|money" required />
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">状态</label>
            <div class="layui-input-block">
                <select name="state" lay-verify="required" required>
                    <option value="1">待翻新</option>
                    <option value="3">可上架</option>
                </select>
            </div>
        </div>

        <div class="layui-form-item model-form-footer">
            <button class="layui-btn layui-btn-primary" type="button" id="btnCancel">取消</button>
            <button class="layui-btn" lay-filter="btnSubmit" lay-submit>保存</button>
        </div>
    </form>
</script>

<!-- 表格操作列 -->
<script type="text/html" id="barTpl">
    {{# if(d.state !== '4'){ }}
    <a class="layui-btn layui-btn-primary layui-btn-xs" lay-event="edit">编辑</a>
    {{# } }}
    <a class="layui-btn layui-btn-primary layui-btn-xs" lay-event="checkPic">查看图片</a>
</script>

<!--品牌下拉框模板-->
<script type="text/html" id="brandSelect">
    <option value="">请选择</option>
    {{# layui.each(d,function(index,item){ }}
        <option value="{{item.brandId}}">{{item.brandName}}</option>
    {{# }); }}
</script>

<!--型号下拉框模板-->
<script type="text/html" id="modelSelect">
    <option value="">请选择</option>
    {{# layui.each(d,function(index,item){ }}
    <option value="{{item.modelId}}">{{item.modelName}}</option>
    {{# }); }}
</script>

<!--颜色下拉框模板-->
<script type="text/html" id="colorSelect">
    <option value="">请选择</option>
    {{# layui.each(d,function(index,item){ }}
    <option value="{{item.colorId}}">{{item.colorName}}</option>
    {{# }); }}
</script>

<!--内存下拉框模板-->
<script type="text/html" id="memorySelect">
    <option value="">请选择</option>
    {{# layui.each(d,function(index,item){ }}
    <option value="{{item.memoryId}}">{{item.memoryName}}</option>
    {{# }); }}
</script>

<script type="text/javascript" src="/static/js/admin/phone/phoneinfo.js"></script>