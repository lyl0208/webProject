<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.myweb.sell.dao.SellLogMapper">

    <resultMap id="sellLogMap" type="com.myweb.sell.model.SellLog">
        <id column="id" property="id" jdbcType="INTEGER"/>
        <result column="selling_id" property="sellingId" jdbcType="VARCHAR"/>
        <result column="imei" property="imei" jdbcType="VARCHAR"/>
        <result column="operator_name" property="operatorName" jdbcType="VARCHAR"/>
        <result column="sale_date" property="saleDate" jdbcType="TIMESTAMP"/>
        <result column="brand_name" property="brandName" jdbcType="VARCHAR"/>
        <result column="model_name" property="modelName" jdbcType="VARCHAR"/>
        <result column="color_name" property="colorName" jdbcType="VARCHAR"/>
        <result column="memory_name" property="memoryName" jdbcType="VARCHAR"/>
        <result column="transaction_price" property="transactionPrice" jdbcType="VARCHAR"/>
    </resultMap>

    <select id="listSellLog" resultMap="sellLogMap">
        SELECT
          *
        FROM
          sell_log
        <where>
            <trim prefixOverrides="and">
                <if test="sellingId != null and sellingId != ''">and selling_id = #{sellingId}</if>
            </trim>
        </where>
    </select>

    <insert id="save">
        INSERT INTO
          sell_log
        (
          selling_id,
          imei,
          operator_name,
          sale_date,
          brand_name,
          model_name,
          color_name,
          memory_name,
          transaction_price
        )
        VALUES
        (
          #{sellingId,jdbcType=VARCHAR},
          #{imei,jdbcType=VARCHAR},
          #{operatorName,jdbcType=VARCHAR},
          #{saleDate,jdbcType=TIMESTAMP},
          #{brandName,jdbcType=VARCHAR},
          #{modelName,jdbcType=VARCHAR},
          #{colorName,jdbcType=VARCHAR},
          #{memoryName,jdbcType=VARCHAR},
          #{transactionPrice,jdbcType=VARCHAR}
        )
    </insert>
</mapper>